<div id="<%= dom_id(notification) %>" class="flex gap-4 p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150 <%= 'bg-blue-50/50' unless notification.read? %>">
  <div class="flex-shrink-0 mt-1">
    <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600">
       <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
       </svg>
    </div>
  </div>
  <div class="flex-1 min-w-0">
    <p class="text-sm font-medium text-gray-900">
      <% 
        actor = notification.actor
        actor_name = if actor && actor.entity
                       actor.entity.name
                     elsif actor
                       actor.email
                     else
                       "Sistema"
                     end
      %>
      <span class="font-bold"><%= actor_name %></span> <%= notification.action %>
    </p>
    <% if notification.notifiable %>
      <div class="mt-1">
        <%= link_to notification.notifiable, class: "text-sm text-indigo-600 hover:text-indigo-800 font-medium" do %>
          Partida <%= notification.notifiable.try(:blhouse) || notification.notifiable.id %>
        <% end %>
      </div>
    <% end %>
    <p class="text-xs text-gray-500 mt-1">
      Hace <%= time_ago_in_words(notification.created_at) %>
    </p>
  </div>
  
  <% unless notification.read? %>
    <div class="flex flex-col items-end gap-2">
      <%= button_to mark_as_read_notification_path(notification), method: :patch, class: "p-2 text-gray-400 hover:text-indigo-600 rounded-full hover:bg-indigo-50 transition-colors", title: "Marcar como leÃ­do" do %>
        <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg>
      <% end %>
      <div class="h-2 w-2 rounded-full bg-indigo-500"></div>
    </div>
  <% end %>
</div>
