<%= form_with model: [@entity, @address], method: :patch, class: "space-y-4", id: "edit_address_form", data: { turbo: false } do |f| %>
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
    <div>
      <%= f.label :tipo, "Tipo", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :tipo,
          Address::TIPOS.map { |k, v| [v, k] },
          { include_blank: "Seleccionar tipo" },
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900" %>
    </div>
    <div>
      <%= f.label :email, "Email", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.email_field :email,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "correo@ejemplo.com" %>
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
    <div class="sm:col-span-2">
      <%= f.label :calle, "Calle", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :calle,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "Nombre de la calle" %>
    </div>
    <div>
      <%= f.label :numero_exterior, "Núm. Ext.", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :numero_exterior,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "123" %>
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
    <div>
      <%= f.label :numero_interior, "Núm. Int.", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :numero_interior,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "A" %>
    </div>
    <div>
      <%= f.label :colonia, "Colonia", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :colonia,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "Colonia" %>
    </div>
    <div>
      <%= f.label :codigo_postal, "CP", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :codigo_postal,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "12345" %>
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
    <div>
      <%= f.label :municipio, "Municipio", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :municipio,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "Municipio" %>
    </div>
    <div>
      <%= f.label :localidad, "Localidad", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :localidad,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "Localidad" %>
    </div>
    <div>
      <%= f.label :estado, "Estado", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :estado,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900",
          placeholder: "Estado" %>
    </div>
  </div>

  <div>
    <%= f.label :pais, "País", class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= f.select :pais,
        Address.paises_con_banderas.map { |display, code| [display, code] },
        { include_blank: "Seleccionar país" },
        class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-teal-500 focus:ring-teal-500 text-gray-900" %>
  </div>

  <div class="flex justify-end gap-3">
    <button type="button" data-action="click->modal#close" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors">Cancelar</button>
    <%= f.submit "Guardar Cambios", class: "px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors" %>
  </div>
<% end %>